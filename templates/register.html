{% extends 'base.html' %}

{% block content %}

<div class="container space">
    <div class="col s12">
        <h5>Please register with your username below to access all the exciting features of the SurfingEurope site:</h5>
    </div>
</div>

<div class="container form">
    <div class="row">
        <div class="col s12">
            <form method="POST" action="{{ url_for('register') }}">

                <div class="row">

                    <div class="input-field col s12">
                        <input placeholder="joebloggs" id="username" name="username" type="text" class="validate" data-length="32" required>
                        <label for="username">Username</label>
                        <span class="helper-text">Please provide username between 3 and 32 characters</span>
                    </div>
                    <div class="input-field col s12">
                        <input disabled value="Password not requred" id="disabled" type="text" class="validate">
                        <label for="disabled">Disabled</label>
                    </div>

                    <button class="btn waves-effect waves-light disabled" type="submit" name="action">Register
                    </button>

                    {% if error %}
                        <p class="oups"><strong>Ehm..</strong> {{ error }}
                    {% endif %}

                </div>

                <div>
                    <h6>If you already registered please <a href="{{ url_for('login') }}">Log in here</a></h6>
                </div>

            </form>
        </div>

    </div>
</div>

{% endblock %}

{% block script %}

<script>

// Checks in place to make sure that length limit is not exceeded

$(document).ready(function() {

    $('#username').bind('input propertychange', function() {
        if ($('#username').val().trim().length > 2 && $('#username').val().trim().length < 33) {
            $('.btn').removeClass('disabled');
        } else {
            $('.btn').addClass('disabled');
        }
    }) 

});

</script>

{% endblock %}